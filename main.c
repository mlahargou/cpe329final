#include "msp.h"
#include "rotor.h"


/**
 * main.c
 */
void main(void)
{
	WDT_A->CTL = WDT_A_CTL_PW | WDT_A_CTL_HOLD;		// stop watchdog timer


/*
    signed int rotor1[26] = {
         //index:     5             10              15          20
     // a  b  c d  e  f  g h i   j   k  l  m   n  o p  q r s  t  u  v   w  x  y  z
       -6,-5,-4,3,-4,-2,-1,8,13,-10,-9,-7,-10,-3,-2,4,-9,6,0,-8,-3,-13,-9,-7,-10,10
    };
    signed int rotor2[26] = {
    // a b c   d  e  f  g h  i  j  k  l m n o  p q  r  s   t  u  v  w  x  y  z
       0,8,13,-1,-5,-9,11,4,-3,-9,-7,-1,2,6,10,5,0,-11,12,-6,-13,2,-10,11,-3,-7
    };
    signed int rotor3[26] = {
     // a  b c  d e   f g   h i  j k   l m n o   p q  r s  t  u  v   w  x   y   z
       -7,-1,4,-2,11,-3,12,-4,8,-5,10,-6,9,0,11,-8,8,-9,5,-10,2,-10,-5,-13,-10,-13
    };
    signed int reflector[26] = {
       1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1
    };

    signed int rotor5[26] = {

    };
    signed int rotor6[26] = {

    };
    signed int rotor7[26] = {

    };
*/

	/*
	 * rotor1 -> rotor2 -> rotor3 -> |
	 *                            reflector
	 * rotor7 <- rotor6 <- rotor5 <- |
	 */
    Rotors allRotors = {
                //index:     5             10              15          20
            // a  b  c d  e  f  g h i   j   k  l  m   n  o p  q r s  t  u  v   w  x  y  z
             {-6,-5,-4,3,-4,-2,-1,8,13,-10,-9,-7,-10,-3,-2,4,-9,6,0,-8,-3,-13,-9,-7,-10,10}, //allRotors.rotor1
            //a b c   d  e  f  g h  i  j  k  l m n o  p q  r  s   t  u  v  w  x  y  z
             {0,8,13,-1,-5,-9,11,4,-3,-9,-7,-1,2,6,10,5,0,-11,12,-6,-13,2,-10,11,-3,-7},     //allRotors.rotor2
            // a  b c  d e   f g   h i  j k   l m n o   p q  r s  t  u  v   w  x   y   z
             {-7,-1,4,-2,11,-3,12,-4,8,-5,10,-6,9,0,11,-8,8,-9,5,-10,2,-10,-5,-13,-10,-13},  //allRotors.rotor3
             {1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1,1,-1},             //allRotors.reflector
            //a b c d e f  g h i j  k  l  m  n o   p   q r  s  t  u   v  w  x  y  z
             {1,2,3,4,5,6,-4,8,9,10,13,10,13,0,10,-11,-7,5,-12,7,-10,-9,-2,-5,-8,-11},       //allRotors.rotor5
            //a b c d  e  f g  h   i   j k  l m  n  o  p  q  r  s  t  u v w  x  y  z
             {0,8,1,7,-12,3,11,13,-11,-8,1,-4,10,6,-2,-13,0,-11,7,-6,-5,3,9,-2,-10,5},       //allRotors.rotor6
            //a  b  c d  e  f  g h i j  k l  m n o p  q  r  s  t u v w x  y z
             {10,4,-6,5,-13,6,-4,0,3,7,-8,10,9,2,8,3,-10,13,9,-3,1,7,2,10,9,4}               //allRotors.rotor7
    };
/*
    signed int rotor1[95] = {
       43,2,11,48,8,56,58,24,38,7,29,-11,74,62,66,42,13,65,67,53,70,-10,2,35,49,42,-4,-1,0,31,-12,-24,6,1,2,9,-34,44,-1,17,-8,-14,-9,-23,-3,39,-25,22,41,-2,38,-6,-17,-43,14,28,18,30,-6,-55,17,31,-9,7,-63,14,-3,24,-59,-54,-28,-17,-10,-59,-68,3,-36,-1,-55,-71,-75,-33,-27,-18,-59,-19,-27,-57,5,-70,-73,-42,2,-43,-23
    };
    signed int rotor2[95] = {
       76,7,34,29,73,80,16,13,73,12,72,52,19,-7,80,-15,21,-16,-9,74,52,-17,58,45,3,49,44,-13,19,36,32,18,-9,15,-4,5,19,36,31,21,24,18,-37,-27,-11,30,20,-40,44,7,3,-8,31,-8,35,-30,-10,-16,-8,-5,-18,23,-5,4,-35,21,-8,-33,-16,-31,-55,-68,18,-47,-35,-4,-52,1,-68,12,-63,-37,-70,-72,-5,-24,1,1,-86,-61,-77,-72,-57,-75,-43
    };
    signed int rotor3[95] = {
       36,6,49,80,80,6,79,31,35,8,16,16,41,35,73,50,4,-11,-6,43,32,2,-4,44,10,64,42,33,-25,28,33,55,60,-20,6,-2,28,-15,36,51,-3,28,-34,-19,-35,26,31,-46,-1,42,4,-10,-8,26,7,-6,-41,-29,22,-29,-28,-26,19,-13,24,-65,-11,-11,-9,-23,2,5,-41,-7,19,-71,-47,-35,-76,15,-55,-23,-12,-78,-45,-75,-41,-66,-10,-7,-15,-18,-76,-74,-80
    };
*/
    int index = travelIndexThroughAllRotors(allRotors, 5);

    char outLetter = getCharThroughAllRotors(allRotors, "F");


    while(1);
}
